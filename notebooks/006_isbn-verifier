{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# ISBN Verifier\n",
    "\n",
    "The [ISBN-10 verification process](https://en.wikipedia.org/wiki/International_Standard_Book_Number) is used to validate book identification\n",
    "numbers. These normally contain dashes and look like: `3-598-21508-8`\n",
    "\n",
    "## ISBN\n",
    "\n",
    "The ISBN-10 format is 9 digits (0 to 9) plus one check character (either a digit or an X only). In the case the check character is an X, this represents the value '10'. These may be communicated with or without hyphens, and can be checked for their validity by the following formula:\n",
    "\n",
    "```\n",
    "(x1 * 10 + x2 * 9 + x3 * 8 + x4 * 7 + x5 * 6 + x6 * 5 + x7 * 4 + x8 * 3 + x9 * 2 + x10 * 1) mod 11 == 0\n",
    "```\n",
    "\n",
    "If the result is 0, then it is a valid ISBN-10, otherwise it is invalid.\n",
    "\n",
    "## Example\n",
    "\n",
    "Let's take the ISBN-10 `3-598-21508-8`. We plug it in to the formula, and get:\n",
    "```\n",
    "(3 * 10 + 5 * 9 + 9 * 8 + 8 * 7 + 2 * 6 + 1 * 5 + 5 * 4 + 0 * 3 + 8 * 2 + 8 * 1) mod 11 == 0\n",
    "```\n",
    "\n",
    "Since the result is 0, this proves that our ISBN is valid.\n",
    "\n",
    "## Task\n",
    "\n",
    "Given a string the program should check if the provided string is a valid ISBN-10.\n",
    "Putting this into place requires some thinking about preprocessing/parsing of the string prior to calculating the check digit for the ISBN.\n",
    "\n",
    "The program should be able to verify ISBN-10 both with and without separating dashes.\n",
    "\n",
    "\n",
    "## Caveats\n",
    "\n",
    "Converting from strings to numbers can be tricky in certain languages.\n",
    "Now, it's even trickier since the check digit of an ISBN-10 may be 'X' (representing '10'). For instance `3-598-21507-X` is a valid ISBN-10.\n",
    "\n",
    "## Bonus tasks\n",
    "\n",
    "* Generate a valid ISBN-13 from the input ISBN-10 (and maybe verify it again with a derived verifier).\n",
    "\n",
    "* Generate valid ISBN, maybe even from a given starting ISBN.\n",
    "## Exception messages\n",
    "\n",
    "Sometimes it is necessary to raise an exception. When you do this, you should include a meaningful error message to\n",
    "indicate what the source of the error is. This makes your code more readable and helps significantly with debugging. Not\n",
    "every exercise will require you to raise an exception, but for those that do, the tests will only pass if you include\n",
    "a message.\n",
    "\n",
    "To raise a message with an exception, just write it as an argument to the exception type. For example, instead of\n",
    "`raise Exception`, you should write:\n",
    "\n",
    "```python\n",
    "raise Exception(\"Meaningful message indicating the source of the error\")\n",
    "```\n",
    "\n",
    "## Running the tests\n",
    "\n",
    "To run the tests, run the appropriate command below ([why they are different](https://github.com/pytest-dev/pytest/issues/1629#issue-161422224)):\n",
    "\n",
    "- Python 2.7: `py.test isbn_verifier_test.py`\n",
    "- Python 3.3+: `pytest isbn_verifier_test.py`\n",
    "\n",
    "Alternatively, you can tell Python to run the pytest module (allowing the same command to be used regardless of Python version):\n",
    "`python -m pytest isbn_verifier_test.py`\n",
    "\n",
    "### Common `pytest` options\n",
    "\n",
    "- `-v` : enable verbose output\n",
    "- `-x` : stop running tests on first failure\n",
    "- `--ff` : run failures from previous test before running other test cases\n",
    "\n",
    "For other options, see `python -m pytest -h`\n",
    "\n",
    "## Submitting Exercises\n",
    "\n",
    "Note that, when trying to submit an exercise, make sure the solution is in the `$EXERCISM_WORKSPACE/python/isbn-verifier` directory.\n",
    "\n",
    "You can find your Exercism workspace by running `exercism debug` and looking for the line that starts with `Workspace`.\n",
    "\n",
    "For more detailed information about running tests, code style and linting,\n",
    "please see the [help page](http://exercism.io/languages/python).\n",
    "\n",
    "## Source\n",
    "\n",
    "Converting a string into a number and some basic processing utilizing a relatable real world example. [https://en.wikipedia.org/wiki/International_Standard_Book_Number#ISBN-10_check_digit_calculation](https://en.wikipedia.org/wiki/International_Standard_Book_Number#ISBN-10_check_digit_calculation)\n",
    "\n",
    "## Submitting Incomplete Solutions\n",
    "\n",
    "It's possible to submit an incomplete solution so you can see how others have completed the exercise.\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def verify(isbn):\n",
    "    pass\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "import unittest\n",
    "\n",
    "\n",
    "\n",
    "# Tests adapted from `problem-specifications//canonical-data.json` @ v2.4.0\n",
    "\n",
    "class IsbnVerifierTests(unittest.TestCase):\n",
    "\n",
    "    def test_valid_isbn_number(self):\n",
    "        self.assertIs(verify('3-598-21508-8'), True)\n",
    "\n",
    "    def test_invalid_check_digit(self):\n",
    "        self.assertIs(verify('3-598-21508-9'), False)\n",
    "\n",
    "    def test_valid_with_X_check_digit(self):\n",
    "        self.assertIs(verify('3-598-21507-X'), True)\n",
    "\n",
    "    def test_invalid_check_digit_other_than_X(self):\n",
    "        self.assertIs(verify('3-598-21507-A'), False)\n",
    "\n",
    "    def test_invalid_character_in_isbn(self):\n",
    "        self.assertIs(verify('3-598-P1581-X'), False)\n",
    "\n",
    "    def test_invalid_X_other_than_check_digit(self):\n",
    "        self.assertIs(verify('3-598-2X507-9'), False)\n",
    "\n",
    "    def test_valid_isbn_without_separating_dashes(self):\n",
    "        self.assertIs(verify('3598215088'), True)\n",
    "\n",
    "    def test_valid_isbn_without_separating_dashes_with_X_check_digit(self):\n",
    "        self.assertIs(verify('359821507X'), True)\n",
    "\n",
    "    def test_invalid_isbn_without_check_digit_and_dashes(self):\n",
    "        self.assertIs(verify('359821507'), False)\n",
    "\n",
    "    def test_invalid_too_long_isbn_with_no_dashes(self):\n",
    "        self.assertIs(verify('3598215078X'), False)\n",
    "\n",
    "    def test_invalid_isbn_without_check_digit(self):\n",
    "        self.assertIs(verify('3-598-21507'), False)\n",
    "\n",
    "    def test_invalid_too_long_isbn(self):\n",
    "        self.assertIs(verify('3-598-21507-XX'), False)\n",
    "\n",
    "    def test_invalid_check_digit_X_used_for_0(self):\n",
    "        self.assertIs(verify('3-598-21515-X'), False)\n",
    "\n",
    "    def test_valid_empty_isbn(self):\n",
    "        self.assertIs(verify(''), False)\n",
    "\n",
    "    def test_input_is_nine_characters(self):\n",
    "        self.assertIs(verify('134456729'), False)\n",
    "\n",
    "\n",
    "unittest.main(argv=[''], exit=False)\n"
   ]
  }
 ],
 "metadata": {},
 "nbformat": 4,
 "nbformat_minor": 2
}
